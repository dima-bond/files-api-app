(this["webpackJsonpfiles-api-app"]=this["webpackJsonpfiles-api-app"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(8),s=n.n(a),r=n(7),i=n(2),o=n(5),j=(n(14),n(0)),l=function(e){var t=e.file;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{className:"card__image",src:"images/file.svg"}),Object(j.jsx)("p",{children:"".concat(t.name.length>10?t.name.slice(0,10)+"...":t.name)})]})},u=n(9),b=n.n(u),d=(n(16),function(e){var t=e.files,n=Object(c.useState)(null),a=Object(i.a)(n,2),s=a[0],r=a[1],o=function(){r(null)};return Object(j.jsx)("ul",{className:"files-container",children:t.map((function(e){return Object(j.jsxs)("li",{className:"card",onMouseOver:function(){return t=e.file,void r(t);var t},onMouseLeave:o,children:[Object(j.jsx)(l,{file:e}),Object(j.jsxs)("span",{className:b()("card__details",{"card__details--active":s===e.file}),children:[Object(j.jsxs)("p",{children:["Name: ",e.name]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("p",{children:["Size: ",e.size_now]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("p",{children:["Edited: ",e.mtime]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("p",{children:["Created: ",e.ctime]})]})]},e.file)}))})}),O=function(e){var t=e.split(" "),n=t[0].split(".").reverse().join("-").concat(["T"],t[1]);return new Date(n)},f=function(e){var t=e.split(" ");switch(t[1].toLowerCase()){case"mb":return 1024*+t[0];case"gb":return+t[0]/1e-6;default:return+t[0]}};n(17);var h=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),l=Object(i.a)(s,2),u=l[0],b=l[1],h=Object(c.useState)(!1),m=Object(i.a)(h,2),p=m[0],v=m[1],x=Object(c.useState)(""),g=Object(i.a)(x,2),_=g[0],k=g[1],w=Object(c.useState)([]),C=Object(i.a)(w,2),S=C[0],N=C[1],y=Object(c.useState)(!1),z=Object(i.a)(y,2),L=z[0],M=z[1];return Object(c.useEffect)((function(){fetch("https://fs.mh.net.ua/ajax/lsjson.php?dir=global/video&idu=1").then((function(e){return e.json()})).then((function(e){a(e),N(e),b(Object(o.read_cookie)("sortCookie"))})).catch((function(){return M(!0)}))}),[]),Object(c.useMemo)((function(){var e=Object(r.a)(S);switch(Object(o.read_cookie)("sortCookie")){case"name":e.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case"size":e.sort((function(e,t){return f(e.size_now)-f(t.size_now)}));break;case"created":e.sort((function(e,t){return O(e.ctime)-O(t.ctime)}))}N(e)}),[n,u]),Object(c.useMemo)((function(){var e=n.filter((function(e){return e.name.toLowerCase().includes(_.toLowerCase())}));N(e)}),[_]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("div",{className:"header",children:[Object(j.jsxs)("select",{name:"sortBy",value:u,onChange:function(e){b(e.target.value),Object(o.bake_cookie)("sortCookie",e.target.value),k(""),v(!1)},children:[Object(j.jsx)("option",{value:"",disabled:!0,children:"Sort by"}),Object(j.jsx)("option",{value:"name",children:"Name"}),Object(j.jsx)("option",{value:"size",children:"Size"}),Object(j.jsx)("option",{value:"created",children:"Created"})]}),Object(j.jsxs)("button",{type:"button",onClick:function(){var e=Object(r.a)(S).reverse();N(e),v((function(e){return!e}))},className:"header__button",children:[p?"Ascending order":"Descending order"," \u2192"]}),Object(j.jsx)("input",{type:"text",name:"searchQuery",value:_,onChange:function(e){k(e.target.value)},placeholder:"Search file by name"})]}),L?Object(j.jsxs)("h2",{children:["Server is temporarily unavailable. ",Object(j.jsx)("br",{}),"Please, try again later."]}):0===S.length?Object(j.jsx)("h2",{children:"No files were found..."}):Object(j.jsx)(d,{files:S})]})};s.a.render(Object(j.jsx)(h,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.2027e5a8.chunk.js.map