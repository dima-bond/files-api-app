{"version":3,"sources":["components/FileCard/FileCard.js","components/FilesList/FilesList.js","components/helpers.js","App.js","index.js"],"names":["FileCard","file","className","src","name","length","slice","FilesList","files","useState","selectedCard","setSelectedCard","handleMouseLeave","map","f","onMouseOver","fileId","onMouseLeave","classNames","size_now","mtime","ctime","dateFromString","str","separated","split","formated","reverse","join","concat","Date","compareSize","toLowerCase","App","setFiles","sortBy","setSortBy","isReverse","setIsReverse","searchQuery","setSearchQuery","filteredFiles","setFilteredFiles","useEffect","fetch","then","response","json","result","useMemo","filesToShow","sort","a","b","localeCompare","tmpFilter","filter","includes","value","onChange","e","target","disabled","type","onClick","reversed","prev","placeholder","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.401331dc.chunk.js","sourcesContent":["import './FileCard.css'\n\nexport const FileCard = ({ file }) => (\n  <>\n    <img className=\"card__image\" src=\"images/file.svg\"/>\n    <p>{`${file.name.length > 10 ? file.name.slice(0, 10)+'...' : file.name}`}</p>\n  </>\n);\n","import { useState } from 'react';\nimport { FileCard } from '../FileCard/FileCard'\nimport classNames from 'classnames';\nimport './FilesList.css';\n\nexport const FilesList = ({ files }) => {\n  const [selectedCard, setSelectedCard] = useState(null);\n\n  const handleHover = (fileId) => {\n    setSelectedCard(fileId)\n  };\n\n  const handleMouseLeave = () => {\n    setSelectedCard(null);\n  };\n\n  return (\n    <ul className=\"files-container\">\n      {files.map(f => (\n        <li key={f.file} className=\"card\" onMouseOver={() => handleHover(f.file)} onMouseLeave={handleMouseLeave}>\n          <FileCard \n            file={f}\n          />\n          <span className={classNames('card__details', {'card__details--active': selectedCard === f.file})}>\n            <p>Name: {f.name}</p>\n            <hr/>\n            <p>Size: {f.size_now}</p>\n            <hr/>\n            <p>Edited: {f.mtime}</p>\n            <hr/>\n            <p>Created: {f.ctime}</p>\n          </span>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","export const dateFromString = (str) => {\n  const separated = str.split(' ');\n  const formated = separated[0].split('.').reverse().join('-').concat(['T'], separated[1]);\n\n  return new Date(formated);\n};\n\nexport const compareSize = (str) => {\n  const separated = str.split(' ');\n  const unit = separated[1].toLowerCase();\n\n  switch (unit) {\n    case 'mb':\n      return +separated[0] * 1024;\n    case 'gb':\n      return +separated[0] / 1e-6;\n    default:\n      return +separated[0]\n  }\n};\n","import { useEffect, useMemo, useState } from 'react';\nimport { FilesList } from './components/FilesList/FilesList';\nimport { dateFromString, compareSize } from './components/helpers';\nimport './App.css';\n\nfunction App() {\n\n  const [files, setFiles] = useState([]);\n  const [sortBy, setSortBy] = useState('');\n  const [isReverse, setIsReverse] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filteredFiles, setFilteredFiles] = useState([]);\n\n  useEffect(() => {\n    fetch('https://fs.mh.net.ua/ajax/lsjson.php?dir=global/video&idu=1')\n      .then(response => response.json())\n      .then(result => {\n        setFiles(result)\n        setFilteredFiles(result)\n      });\n  }, []);\n\n  useMemo (() => {\n    let filesToShow = [...filteredFiles];\n    switch(sortBy) {\n      case 'name':\n        filesToShow.sort((a, b) => a.name.localeCompare(b.name));\n        break;\n\n      case 'size':\n        filesToShow.sort((a, b) => compareSize(a.size_now) - compareSize(b.size_now));\n        break;\n\n      case 'created':\n        filesToShow.sort((a, b) => dateFromString(a.ctime) - dateFromString(b.ctime));\n        break;\n\n      default:\n        break;\n    };\n\n    setFilteredFiles(filesToShow);\n  }, [files, sortBy]);\n\n  const handleSortChange = (e) => {\n    setSortBy(e.target.value)\n    setSearchQuery('')\n    setIsReverse(false);\n  };\n\n  const handleInput = (e) => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleReverse = () => {\n    const reversed = [...filteredFiles].reverse()\n    setFilteredFiles(reversed)\n    setIsReverse(prev => !prev)\n  };\n\n  useMemo(() => {\n    const tmpFilter = files.filter(f => f.name.toLowerCase().includes(searchQuery.toLowerCase()));\n\n    setFilteredFiles(tmpFilter)\n  }, [searchQuery]);\n\n  return (\n    <div className=\"App\">\n      <div className=\"header\">\n        <select\n          name=\"sortBy\"\n          value={sortBy}\n          onChange={handleSortChange}\n        >\n          <option value=\"\" disabled>Sort by</option>\n          <option value=\"name\">Name</option>\n          <option value=\"size\">Size</option>\n          <option value=\"created\">Created</option>\n        </select>\n        <button \n          type=\"button\"\n          onClick={handleReverse}\n          className=\"header__button\"\n        >\n          {isReverse ? `Ascending order` : 'Descending order'} &#8594;\n        </button>\n        <input \n          type=\"text\"\n          name=\"searchQuery\"\n          value={searchQuery}\n          onChange={handleInput}\n          placeholder=\"Search file by name\"\n        />\n      </div>\n      {(filteredFiles.length === 0) ?\n      <h2>No files were found...</h2>\n      : <FilesList files={filteredFiles}/>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}