{"version":3,"sources":["components/FileCard/FileCard.js","components/FilesList/FilesList.js","components/helpers.js","App.js","index.js"],"names":["FileCard","file","className","src","name","length","slice","FilesList","files","useState","selectedCard","setSelectedCard","handleMouseLeave","map","f","onMouseOver","fileId","onMouseLeave","classNames","size_now","mtime","ctime","dateFromString","str","separated","split","formated","reverse","join","concat","Date","compareSize","toLowerCase","App","setFiles","sortBy","setSortBy","isReverse","setIsReverse","searchQuery","setSearchQuery","filteredFiles","setFilteredFiles","serverError","setserverError","useEffect","fetch","then","response","json","result","read_cookie","catch","useMemo","filesToShow","sort","a","b","localeCompare","tmpFilter","filter","includes","value","onChange","e","target","bake_cookie","disabled","type","onClick","reversed","prev","placeholder","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2027e5a8.chunk.js","sourcesContent":["import './FileCard.css'\n\nexport const FileCard = ({ file }) => (\n  <>\n    <img className=\"card__image\" src=\"images/file.svg\"/>\n    <p>{`${file.name.length > 10 ? file.name.slice(0, 10)+'...' : file.name}`}</p>\n  </>\n);\n","import { useState } from 'react';\nimport { FileCard } from '../FileCard/FileCard'\nimport classNames from 'classnames';\nimport './FilesList.css';\n\nexport const FilesList = ({ files }) => {\n  const [selectedCard, setSelectedCard] = useState(null);\n\n  const handleHover = (fileId) => {\n    setSelectedCard(fileId)\n  };\n\n  const handleMouseLeave = () => {\n    setSelectedCard(null);\n  };\n\n  return (\n    <ul className=\"files-container\">\n      {files.map(f => (\n        <li key={f.file} className=\"card\" onMouseOver={() => handleHover(f.file)} onMouseLeave={handleMouseLeave}>\n          <FileCard \n            file={f}\n          />\n          <span className={classNames('card__details', {'card__details--active': selectedCard === f.file})}>\n            <p>Name: {f.name}</p>\n            <hr/>\n            <p>Size: {f.size_now}</p>\n            <hr/>\n            <p>Edited: {f.mtime}</p>\n            <hr/>\n            <p>Created: {f.ctime}</p>\n          </span>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","export const dateFromString = (str) => {\n  const separated = str.split(' ');\n  const formated = separated[0].split('.').reverse().join('-').concat(['T'], separated[1]);\n\n  return new Date(formated);\n};\n\nexport const compareSize = (str) => {\n  const separated = str.split(' ');\n  const unit = separated[1].toLowerCase();\n\n  switch (unit) {\n    case 'mb':\n      return +separated[0] * 1024;\n    case 'gb':\n      return +separated[0] / 1e-6;\n    default:\n      return +separated[0]\n  }\n};\n","import { useEffect, useMemo, useState } from 'react';\nimport { bake_cookie, read_cookie } from 'sfcookies';\nimport { FilesList } from './components/FilesList/FilesList';\nimport { dateFromString, compareSize } from './components/helpers';\nimport './App.css';\n\nfunction App() {\n\n  const [files, setFiles] = useState([]);\n  const [sortBy, setSortBy] = useState('');\n  const [isReverse, setIsReverse] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filteredFiles, setFilteredFiles] = useState([]);\n  const [serverError, setserverError] = useState(false);\n\n  useEffect(() => {\n    fetch('https://fs.mh.net.ua/ajax/lsjson.php?dir=global/video&idu=1')\n      .then(response => response.json())\n      .then(result => {\n        setFiles(result)\n        setFilteredFiles(result)\n        setSortBy(read_cookie('sortCookie'))\n      })\n      .catch(() => setserverError(true));\n  }, []);\n\n  useMemo (() => {\n    let filesToShow = [...filteredFiles];\n    switch(read_cookie('sortCookie')) {\n      case 'name':\n        filesToShow.sort((a, b) => a.name.localeCompare(b.name));\n        break;\n\n      case 'size':\n        filesToShow.sort((a, b) => compareSize(a.size_now) - compareSize(b.size_now));\n        break;\n\n      case 'created':\n        filesToShow.sort((a, b) => dateFromString(a.ctime) - dateFromString(b.ctime));\n        break;\n\n      default:\n        break;\n    };\n\n    setFilteredFiles(filesToShow);\n  }, [files, sortBy]);\n\n  const handleSortChange = (e) => {\n    setSortBy(e.target.value)\n    bake_cookie('sortCookie', e.target.value);\n    setSearchQuery('')\n    setIsReverse(false);\n  };\n\n  const handleInput = (e) => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleReverse = () => {\n    const reversed = [...filteredFiles].reverse()\n    setFilteredFiles(reversed)\n    setIsReverse(prev => !prev)\n  };\n\n  useMemo(() => {\n    const tmpFilter = files.filter(f => f.name.toLowerCase().includes(searchQuery.toLowerCase()));\n\n    setFilteredFiles(tmpFilter)\n  }, [searchQuery]);\n\n  return (\n    <div className=\"App\">\n      <div className=\"header\">\n        <select\n          name=\"sortBy\"\n          value={sortBy}\n          onChange={handleSortChange}\n        >\n          <option value=\"\" disabled>Sort by</option>\n          <option value=\"name\">Name</option>\n          <option value=\"size\">Size</option>\n          <option value=\"created\">Created</option>\n        </select>\n        <button \n          type=\"button\"\n          onClick={handleReverse}\n          className=\"header__button\"\n        >\n          {isReverse ? `Ascending order` : 'Descending order'} &#8594;\n        </button>\n        <input \n          type=\"text\"\n          name=\"searchQuery\"\n          value={searchQuery}\n          onChange={handleInput}\n          placeholder=\"Search file by name\"\n        />\n      </div>\n      {(serverError)\n        ? <h2>\n            Server is temporarily unavailable. <br/>\n            Please, try again later.\n          </h2>\n        : (filteredFiles.length === 0) ?\n          <h2>No files were found...</h2>\n          : <FilesList files={filteredFiles}/>\n          }\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}